import{c as E,R as Z,r as t,j as e,P as _,C as O,a as g,b as ee,X as se,T as A,O as I,D as q,u as ae,d as te,H as le,U as re,L as c,I as m,e as ie,f as P,B as p,F as ne}from"./index-VsXzjt1k.js";import{M as oe}from"./mail-Dg5zys8Y.js";import{M as de}from"./map-pin-C0sgwzgf.js";import{L as ce}from"./lock-CVwtJiJE.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=E("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=E("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=E("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),D=Z,xe=_,B=t.forwardRef(({className:i,...n},s)=>e.jsx(I,{ref:s,className:g("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",i),...n}));B.displayName=I.displayName;const C=t.forwardRef(({className:i,children:n,...s},f)=>e.jsxs(xe,{children:[e.jsx(B,{}),e.jsxs(O,{ref:f,className:g("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",i),...s,children:[n,e.jsxs(ee,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));C.displayName=O.displayName;const k=({className:i,...n})=>e.jsx("div",{className:g("flex flex-col space-y-1.5 text-center sm:text-left",i),...n});k.displayName="DialogHeader";const S=t.forwardRef(({className:i,...n},s)=>e.jsx(A,{ref:s,className:g("text-lg font-semibold leading-none tracking-tight",i),...n}));S.displayName=A.displayName;const pe=t.forwardRef(({className:i,...n},s)=>e.jsx(q,{ref:s,className:g("text-sm text-muted-foreground",i),...n}));pe.displayName=q.displayName;function Ne(){const[i,n]=t.useState(!0),[s,f]=t.useState("login"),[x,R]=t.useState(""),[h,H]=t.useState(""),[F,G]=t.useState(""),[o,L]=t.useState(""),[d,M]=t.useState(""),[N,T]=t.useState(!1),[u,r]=t.useState(!1),[j,l]=t.useState(""),U=ae(),{loginWithGoogle:V,signupWithEmail:W,loginWithEmail:$,updateProfile:J,isLoggedIn:z,user:b}=te(),[X,v]=t.useState(!1);t.useEffect(()=>{z&&b&&(!b.phone||!b.pincode?(v(!0),n(!1)):i&&y())},[z,b]);const y=()=>{n(!1),U("/")},Y=async()=>{try{r(!0),await V()}catch(a){l(a.message||"Failed to login with Google"),r(!1)}},K=async a=>{if(a.preventDefault(),!o||o.length<10){l("Please enter a valid 10-digit Phone Number");return}if(!d||d.length!==6){l("Please enter a valid 6-digit Pincode");return}try{r(!0),await J({phone:o,pincode:d}),v(!1),y()}catch(w){l(w.message||"Failed to update profile"),r(!1)}},Q=async a=>{a.preventDefault(),l("");try{if(r(!0),s==="signup"){if(!o||o.length<10){l("Please enter a valid 10-digit Phone Number"),r(!1);return}if(!d||d.length!==6){l("Please enter a valid 6-digit Pincode"),r(!1);return}if(!h||h.length<6){l("Password must be at least 6 characters"),r(!1);return}await W({email:x,password:h,name:F,phone:o,pincode:d}),alert("Account created! Please check your email to confirm.")}else{if(!o||o.length<10){l("Please enter a valid 10-digit Phone Number"),r(!1);return}if(!d||d.length!==6){l("Please enter a valid 6-digit Pincode"),r(!1);return}if(!x||!x.includes("@")){l("Please enter a valid email address"),r(!1);return}if(!h){l("Please enter your password"),r(!1);return}await $({email:x,password:h})}}catch(w){l(w.message||"Authentication failed"),r(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(le,{}),e.jsxs("main",{className:"flex-grow flex items-center justify-center py-12 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[e.jsx(D,{open:i,onOpenChange:y,children:e.jsx(C,{className:"max-w-4xl w-[95vw] max-h-[90vh] p-0 gap-0 overflow-hidden border-0 shadow-2xl",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-0 h-full overflow-y-auto",children:[e.jsxs("div",{className:"hidden md:block relative bg-gradient-to-br from-blue-600 to-indigo-700",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('/images/auth.jpg')] bg-cover bg-center opacity-20"}),e.jsx("div",{className:"relative h-full flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(re,{size:40,className:"text-white"})}),e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Welcome to CashNow"}),e.jsx("p",{className:"text-lg text-blue-100",children:"Get the best price for your old phone with our hassle-free service"}),e.jsxs("div",{className:"mt-8 space-y-3 text-left max-w-xs mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-white/10 rounded-lg p-3",children:[e.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:"✓"}),e.jsx("span",{className:"text-sm",children:"Best market prices"})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-white/10 rounded-lg p-3",children:[e.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:"✓"}),e.jsx("span",{className:"text-sm",children:"Free doorstep pickup"})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-white/10 rounded-lg p-3",children:[e.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:"✓"}),e.jsx("span",{className:"text-sm",children:"Instant payment"})]})]})]})})]}),e.jsxs("div",{className:"p-8 bg-white",children:[e.jsxs(k,{className:"mb-6",children:[e.jsx(S,{className:"text-2xl font-bold text-center",children:s==="login"?"Welcome Back!":"Create Account"}),e.jsx("p",{className:"text-center text-gray-500 mt-2",children:s==="login"?"Sign in to continue":"Join us today"})]}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsx("button",{type:"button",onClick:()=>{f("login"),l("")},className:`flex-1 pb-2 text-center font-medium transition-all border-b-2 ${s==="login"?"text-blue-600 border-blue-600":"text-gray-400 border-transparent hover:text-gray-600"}`,children:"Login"}),e.jsx("button",{type:"button",onClick:()=>{f("signup"),l("")},className:`flex-1 pb-2 text-center font-medium transition-all border-b-2 ${s==="signup"?"text-blue-600 border-blue-600":"text-gray-400 border-transparent hover:text-gray-600"}`,children:"Sign Up"})]}),j&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-sm",children:j}),e.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[s==="signup"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"name",className:"text-gray-700 font-medium",children:"Full Name *"}),e.jsx(m,{id:"name",placeholder:"Enter your name",value:F,onChange:a=>G(a.target.value),className:"h-11",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"phone",className:"text-gray-700 font-medium",children:["Phone Number ",s==="signup"&&"*"]}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(m,{id:"phone",type:"tel",placeholder:"+91 Enter your Mobile",className:"pl-10 h-11",value:o,onChange:a=>L(a.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"email",className:"text-gray-700 font-medium",children:["Email ",s==="signup"?"(Optional)":"*"]}),e.jsxs("div",{className:"relative",children:[e.jsx(oe,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(m,{id:"email",type:"email",placeholder:"your@email.com",className:"pl-10 h-11",value:x,onChange:a=>R(a.target.value),required:s==="login"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"pincode",className:"text-gray-700 font-medium",children:["Pincode ",s==="signup"&&"*"]}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(m,{id:"pincode",type:"text",placeholder:"Enter your 6-digit Pincode",className:"pl-10 h-11",value:d,onChange:a=>M(a.target.value.replace(/\D/g,"").slice(0,6)),minLength:6,maxLength:6,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(c,{htmlFor:"password",className:"text-gray-700 font-medium",children:["Password ",s==="signup"&&"*"]}),s==="login"&&e.jsx(P,{to:"/forgot-password",className:"text-xs text-blue-600 hover:underline",children:"Forgot password?"})]}),s==="signup"&&e.jsxs("div",{className:"relative",children:[e.jsx(ce,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(m,{id:"password",type:N?"text":"password",placeholder:"Enter your password",className:"pl-10 pr-10 h-11",value:h,onChange:a=>H(a.target.value),required:!0}),e.jsx("button",{type:"button",onClick:()=>T(!N),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:N?e.jsx(me,{size:18}):e.jsx(he,{size:18})})]}),s==="login"&&e.jsx(p,{type:"submit",disabled:u,className:"w-full h-12 text-base shadow-lg bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-blue-500/30 mt-4",children:u?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing in..."]}):"LOGIN"})]}),s==="signup"&&e.jsxs("div",{className:"flex items-start gap-2 text-xs text-gray-600",children:[e.jsx("input",{type:"checkbox",id:"terms",className:"mt-1 rounded border-gray-300",required:!0}),e.jsxs("label",{htmlFor:"terms",children:["I agree to the"," ",e.jsx(P,{to:"/terms",className:"text-blue-600 hover:underline",children:"Terms and Conditions"})," ","&"," ",e.jsx(P,{to:"/privacy",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})]}),s==="signup"&&e.jsx(p,{type:"submit",disabled:u,className:"w-full h-12 text-base shadow-lg bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-blue-500/30",children:u?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating account..."]}):"CREATE ACCOUNT"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or continue with"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[e.jsxs(p,{variant:"outline",type:"button",className:"h-11",onClick:Y,children:[e.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),e.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),e.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),e.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]}),e.jsxs(p,{variant:"outline",type:"button",className:"h-11",children:[e.jsx("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2C6.477 2 2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.879V14.89h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.989C18.343 21.129 22 16.99 22 12c0-5.523-4.477-10-10-10z",fill:"#1877F2"})}),"Facebook"]})]})]})]})]})})}),e.jsx(D,{open:X,onOpenChange:v,children:e.jsxs(C,{className:"sm:max-w-md",children:[e.jsx(k,{children:e.jsx(S,{children:"Complete Your Profile"})}),e.jsxs("form",{onSubmit:K,className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"complete-phone",children:"Phone Number"}),e.jsx(m,{id:"complete-phone",value:o,onChange:a=>L(a.target.value),placeholder:"+91 Phone Number",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"complete-pincode",children:"Pincode"}),e.jsx(m,{id:"complete-pincode",value:d,onChange:a=>M(a.target.value),placeholder:"6-digit Pincode",maxLength:6,required:!0})]}),j&&e.jsx("p",{className:"text-sm text-red-500",children:j}),e.jsx(p,{type:"submit",disabled:u,className:"w-full",children:u?e.jsx(ue,{className:"animate-spin"}):"Save & Continue"})]})]})})]}),e.jsx(ne,{})]})}export{Ne as default};
